<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

  <title>seanchann</title>
  <meta property="og:title" content="seanchann" />
  <meta name="twitter:title" content="seanchann" />
  <meta name="author" content="Some Person"/>
  <link href='https://blog.ucatch.me/img/favicon.ico' rel='icon' type='image/x-icon'/>
  <meta property="og:image" content="https://blog.ucatch.me/img/avatar-icon.png" />
  <meta name="twitter:image" content="https://blog.ucatch.me/img/avatar-icon.png" />
  <meta name="twitter:card" content="summary" />
  <meta property="og:url" content="https://blog.ucatch.me/" />
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="seanchann" />

  <meta name="generator" content="Hugo 0.26-DEV" />
  <link rel="canonical" href="https://blog.ucatch.me/" />
  <link rel="alternate" href="https://blog.ucatch.me/index.xml" type="application/rss+xml" title="seanchann">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/katex.min.css" integrity="sha384-wITovz90syo1dJWVh32uuETPVEtGigN07tkttEqPv+uR2SE/mbQcG7ATL28aI9H0" crossorigin="anonymous">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" />
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  <link rel="stylesheet" href="https://blog.ucatch.me/css/main.css" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" />
  <link rel="stylesheet" href="https://blog.ucatch.me/css/pygment_highlights.css" />
  <link rel="stylesheet" href="https://blog.ucatch.me/css/highlight.min.css" />


<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.1/photoswipe.min.css" integrity="sha256-sCl5PUOGMLfFYctzDW3MtRib0ctyUvI9Qsmq2wXOeBY=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.1/default-skin/default-skin.min.css" integrity="sha256-BFeI1V+Vh1Rk37wswuOYn5lsTcaU96hGaI7OUVCLjPc=" crossorigin="anonymous" />



<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>

</head>

  <body>
    <nav class="navbar navbar-default navbar-fixed-top navbar-custom">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#main-navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="https://blog.ucatch.me/">seanchann</a>
    </div>

    <div class="collapse navbar-collapse" id="main-navbar">
      <ul class="nav navbar-nav navbar-right">
        
          
            <li>
              <a title="Blog" href="https://blog.ucatch.me/">Blog</a>
            </li>
          
        
          
            <li>
              <a title="Tags" href="https://blog.ucatch.me/tags">Tags</a>
            </li>
          
        
          
            <li>
              <a title="Posts" href="https://blog.ucatch.me/post/">Posts</a>
            </li>
          
        

        

        
      </ul>
    </div>

    <div class="avatar-container">
      <div class="avatar-img-border">
        
          <a title="seanchann" href="https://blog.ucatch.me/">
            <img class="avatar-img" src="https://blog.ucatch.me/img/avatar-icon.png" alt="seanchann" />
          </a>
        
      </div>
    </div>

  </div>
</nav>




    
  
  
  




  

  <header class="header-section ">
    
    <div class="intro-header no-img">
      
      <div class="container">
        <div class="row">
          <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
            <div class="page-heading">
              <h1>seanchann</h1>
                
                  
                    <hr class="small">
                    <span class="page-subheading">Build a beautiful and simple website in minutes</span>
                  
                
                
            </div>
          </div>
        </div>
      </div>
    </div>
  </header>


    
  <div role="main" class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        

        <div class="posts-list">
          
          
            <article class="post-preview">
              <a href="https://blog.ucatch.me/post/golang/reflect/">
                <h2 class="post-title">Reflect</h2>
                
              </a>

              <span class="post-meta">
  Posted on July 31, 2017
  
</span>


              <div class="post-entry">
                
                  反射规则 原文地址
反射规则的第一条： 1.反射从interface的value到reflection object 在底层，反射仅仅是一个机制，来检查存储在内部的一个interface变量中的type和value的对。首先，在包reflect中有两种类型我们必须知晓：Type 以及 Value。这两个类型可以让我们访问到interface变量的内容，并且提供了两个简单的函数，reflect.TypeOf以及reflect.ValueOf,通过对这两个函数的调用就可以获取到interface变量的值。（此外，调用reflect.Value也非常容易获取到reflect.Type,但是在概念上Value以及Type是完全不同的）
让我们先开始使用下TypeOf:
package main import ( &quot;fmt&quot; &quot;reflect&quot; ) func main() { var x float64 = 3.4 fmt.Println(&quot;type:&quot;, reflect.TypeOf(x)) }  这个程序会打印：
type: float64  你可能会想知道我们的interface在哪里，因为上面的程序看上去就像是它传递了float64给变量x，而不是一个interface的value，传递给我们的reflect.TypeOf。但是它确实是存在的；在godoc文档中，reflect.TypeOf的签名包含一个空的interface：
// TypeOf returns the reflection Type of the value in the interface{}. func TypeOf(i interface{}) Type  当我们调用reflect.TypeOf(x),x是第一个被存储在空interface中，然后传入作为参数；reflect.TypeOf打开这个空的interface，然后重新获取type的信息。
reflect.Valueof 函数，当然，也重新获取value
var x float64 = 3.4 fmt.Println(&quot;value:&quot;, reflect.ValueOf(x))  程序输出：
value: &lt;float64 Value&gt;  reflect.Type以及reflect.Value两个都提供了很多的方法让我们去检查和操作它们。一个重要的例子是Value有一个Type的方法来返回一个reflect.Value的Type。还有Type以及Value都有一个Kind的方法，这个方法返回一个恒量，这个恒量是按照一定的顺序被存储：Unit，Float64，Slice，等等。另外Value提供了一些方法，这些方法名类似Int以及Float，可以让我们获取在这些对象的内部存储的值：（就像int64以及float64）：
var x float64 = 3.
                  <a href="https://blog.ucatch.me/post/golang/reflect/" class="post-read-more">[Read More]</a>
                
              </div>

              
                <span class="post-meta">
                
                  #<a href="https://blog.ucatch.me/tags/golang">golang</a>&nbsp;
                
                  #<a href="https://blog.ucatch.me/tags/golang-reflect">golang-reflect</a>&nbsp;
                
                </span>
              
            </article>
          
            <article class="post-preview">
              <a href="https://blog.ucatch.me/post/build-system/cmake-external-project/">
                <h2 class="post-title">cmake编译第三方依赖工程</h2>
                
              </a>

              <span class="post-meta">
  Posted on July 31, 2017
  
</span>


              <div class="post-entry">
                
                  cmake的ExteranlProject 系统：F22 Cmake: version 3.3.2
ExternalProject_Add 这个函数在cmake 2.8版本以上支持，包含include(ExternalProject)模块即可， 此函数定义了一个编译外部工程的标准方法，当然也可以定制编译流程ExternalProject_Add_Step
ExternalProject_Add函数说明：创建一个针对外部工程的自定义编译目标的过程：下载，更新/patch，configure，build，install， 以及test:
ExternalProject_Add(&lt;name&gt; # Name for custom target [DEPENDS projects...] # Targets on which the project depends [PREFIX dir] # Root dir for entire project [LIST_SEPARATOR sep] # Sep to be replaced by ; in cmd lines [TMP_DIR dir] # Directory to store temporary files [STAMP_DIR dir] # Directory to store step timestamps #--Download step-------------- [DOWNLOAD_NAME fname] # File name to store (if not end of URL) [DOWNLOAD_DIR dir] # Directory to store downloaded files [DOWNLOAD_COMMAND cmd.
                  <a href="https://blog.ucatch.me/post/build-system/cmake-external-project/" class="post-read-more">[Read More]</a>
                
              </div>

              
                <span class="post-meta">
                
                  #<a href="https://blog.ucatch.me/tags/cmake">cmake</a>&nbsp;
                
                </span>
              
            </article>
          
            <article class="post-preview">
              <a href="https://blog.ucatch.me/post/scm/gitlab-install/">
                <h2 class="post-title">gitlab的安装</h2>
                
              </a>

              <span class="post-meta">
  Posted on July 31, 2017
  
</span>


              <div class="post-entry">
                
                  gitlab的安装 系统：CentOS7 + docker 1.6
本文主要就是基于docker来构建我们的gitlab环境，方便数据的迁移以及gitlab的升级。
镜像的获取 gitlab的镜像获取我们执行下面的命令，分别拉取gitlab，postgresql，redis：
docker pull sameersbn/postgresql:9.4 docker pull sameersbn/redis:latest docker pull sameersbn/gitlab:7.12.2  创建相关的data volume docker create --name=gitlab-redis-dv -v /yourdir:/var/lib/redis sameersbn/redis:latest  docker create --name=gitlab-postgresql-dv -v /yourdir:/var/lib/postgresql sameersbn/postgresql:9.4  docker create --name=gitlab-dv -v /yourdir:/home/git/data sameersbn/gitlab:7.12.2  运行相关的镜像 docker run --name=postgresql-gitlab -d \ --env='DB_NAME=gitlabhq_production' \ --env='DB_USER=gitlab' --env='DB_PASS=password' \ --volumes-from=gitlab-postgresql-dv \ sameersbn/postgresql:9.4  docker run --name=redis-gitlab -d \ --volumes-from=gitlab-redis-dv \ sameersbn/redis:latest  docker run --name='gitlab' -d \ --link=postgresql-gitlab:postgresql --link=redis-gitlab:redisio \ --publish=10022:22 --publish=10080:80 \ --env='GITLAB_PORT=10080' --env='GITLAB_SSH_PORT=10022' \ --volumes-from=gitlab-dv \ sameersbn/gitlab:7.
                  <a href="https://blog.ucatch.me/post/scm/gitlab-install/" class="post-read-more">[Read More]</a>
                
              </div>

              
                <span class="post-meta">
                
                  #<a href="https://blog.ucatch.me/tags/gitlab">gitlab</a>&nbsp;
                
                </span>
              
            </article>
          
            <article class="post-preview">
              <a href="https://blog.ucatch.me/post/ci-cd/jenkins-gitlab/">
                <h2 class="post-title">jenkins与gitlab的整合</h2>
                
              </a>

              <span class="post-meta">
  Posted on July 31, 2017
  
</span>


              <div class="post-entry">
                
                  

<h1 id="jenkins与gitlab的整合">jenkins与gitlab的整合</h1>

<p><strong>系统：CentOS7 + docker 1.6</strong>
<strong>Jenkins: ver. 1.609.1</strong>
<strong>gitlab: 6.8.1</strong></p>

<p>本文主要针对jenkins与gitlab的整合进行说明。</p>

<p>前提条件：</p>

<ul>
<li>jenkins的 git、git-client、gitlab-hook插件已经安装</li>
<li>gitlab已经安装成功</li>
</ul>

<h2 id="jenkins的配置">jenkins的配置</h2>

<h3 id="create-jobs">create jobs</h3>

<p>创建一个任务其中需要注意的地方是，配置下自己的git ssh key</p>

<h4 id="source-code-management">Source Code Management</h4>

<p>此项配置主要是对我们代码库的配置，我们配置为git，然后给出我们的git 仓库的url，切记这里需要配置下证书，我们选择的方式ssh key的方式</p>

<h4 id="build-triggers的配置">Build Triggers的配置</h4>

<ul>
<li>Poll SCM：也就是给一个周期来自动的拉取整个的workspace，如果要避免这样做，那么就给出一个push的触发。我们这里的schedule什么都不配置。</li>
</ul>

<h2 id="gitlab-webhook的配置">gitlab webhook的配置</h2>

<p>登录到gitlab管理页面，给git-test工程增加一个push event的hook，url填写：</p>

<pre><code class="language-text">http://yourjenkinshome/git/notifyCommit?url=git@192.168.60.18:xqzhou/git-test.git
</code></pre>

<p>配置完成后，我们在gitlab上点击testlink，触发到jenkins成功，表示我们的配置是ok的。</p>

<h3 id="gitlab-push-event的额外配置">gitlab push event的额外配置</h3>

<p>在我使用的gitlab的版本上，当git客户端去git push的时候，不能触发hook，必须在gitlab的每个仓库中的hooks目录增加一个post-receive的脚本：</p>

<pre><code class="language-bash">#!/bin/bash

curl http://yourjenkins/git/notifyCommit?url=your-gitrepos-url
</code></pre>

<p>这样配置以后，才可以正常的在jenkins中触发我们的job。</p>

<p>并且这个触发可以支持分支的build，需要在jenkins的job中增加需要编译的分支。git插件提供了一些有用的变量，可以在我们的脚本中使用：</p>

<ul>
<li>$GIT_BRANCH：返回分支名</li>
<li>$GIT_COMMIT：git的commit id</li>
</ul>

                
              </div>

              
                <span class="post-meta">
                
                  #<a href="https://blog.ucatch.me/tags/jenkins">jenkins</a>&nbsp;
                
                  #<a href="https://blog.ucatch.me/tags/gitlab">gitlab</a>&nbsp;
                
                </span>
              
            </article>
          
            <article class="post-preview">
              <a href="https://blog.ucatch.me/post/ci-cd/jenkins-problem/">
                <h2 class="post-title">jenkins使用问题汇总</h2>
                
              </a>

              <span class="post-meta">
  Posted on July 31, 2017
  
</span>


              <div class="post-entry">
                
                  

<h1 id="问题汇总">问题汇总</h1>

<p><strong>系统：CentOS7 + docker 1.6</strong>
<strong>Jenkins: ver. 1.609.1</strong></p>

<p>jenkins在使用中碰到的问题的汇总，以备查阅。</p>

<h2 id="jenkins-pending-waiting-for-next-available-executor">jenkins  (pending—Waiting for next available executor)</h2>

<p>检查下节点的状态，当master node如果disk不足，就会自动的把master node切换到离线，如果有job被触发，那么将此job置为pending。</p>

<h2 id="disk-space-is-too-low-only-0-519gb-left-on-tmp">Disk space is too low. Only 0.519GB left on /tmp</h2>

<p>在docker镜像里，/tmp分区确实很小，因此，总是会把master节点置为offline，我们在启动的时候传入下面的环境变量来修改tmpdir：</p>

<pre><code class="language-bash">JAVA_OPTS=&quot;-Djava.io.tmpdir=$JENKINS_HOME/tmp&quot;
</code></pre>

                
              </div>

              
                <span class="post-meta">
                
                  #<a href="https://blog.ucatch.me/tags/jenkins">jenkins</a>&nbsp;
                
                </span>
              
            </article>
          
            <article class="post-preview">
              <a href="https://blog.ucatch.me/post/ci-cd/jenkins-docker-build/">
                <h2 class="post-title">jenkins的docker编译</h2>
                
              </a>

              <span class="post-meta">
  Posted on July 31, 2017
  
</span>


              <div class="post-entry">
                
                  

<h1 id="jenkins的docker自动化">jenkins的docker自动化</h1>

<p><strong>系统：CentOS7 + docker 1.6</strong>
<strong>Jenkins: ver. 1.609.1</strong></p>

<p>前提条件：</p>

<ul>
<li>jenkins的任意node已经安装docker或者docker-build-step插件已经安装</li>
</ul>

<p>首先，完成docker img编译相关的job有两种方式：</p>

<ul>
<li>通过docker-build-setup等类似插件来完成</li>
<li>通过执行脚本来完成，前提是我们的node上已经有docker环境。这个node当然也可以是docker-slave了，这样就会更加的灵活了。</li>
</ul>

<h2 id="配置docker-build-step-插件">配置docker build step 插件</h2>

<p>docker build step的原理是配置一个Docker Remote API，插件通过这个API来进行docker命令的相关操作。</p>

<p>这个插件的配置是在configuration
&ndash;&gt;Docker Builder选项中配置一下docker Remote API，比如：<a href="http://192.168.60.79:2375">http://192.168.60.79:2375</a></p>

<p>配置完成后，就可以在job的build step里面选择“Execute Docker container”配置相应的命令，来完成你的工作。</p>

<h2 id="配置一个节点">配置一个节点</h2>

<p>参照标准的节点操作来添加一个有docker环境的node。</p>

<p>节点配置完成后，我们在job的configure制定我们的slave node，那么就可以在这个docker node里面执行我们的docker相关的工作了。</p>

<p>这里你也可以尝试下使用docker in docker的方式。</p>

<p><strong>注意：node上必须有jdk的环境，以及git等相关软件，根据需要自行安装</strong></p>

                
              </div>

              
                <span class="post-meta">
                
                  #<a href="https://blog.ucatch.me/tags/jenkins">jenkins</a>&nbsp;
                
                  #<a href="https://blog.ucatch.me/tags/docker">docker</a>&nbsp;
                
                </span>
              
            </article>
          
            <article class="post-preview">
              <a href="https://blog.ucatch.me/post/ci-cd/jenkins-docker-slave/">
                <h2 class="post-title">jenkins的docker节点配置</h2>
                
              </a>

              <span class="post-meta">
  Posted on July 31, 2017
  
</span>


              <div class="post-entry">
                
                  docker的slave节点配置 系统：CentOS7 + docker 1.6 Jenkins: ver. 1.609.1
前面的章节已经成功的通过git push触发job，本章我们配置一个job，在docker cloud中执行这些job
前提条件：
 jenkins的docker-plugin插件已经安装  说明：
jenkins与docker协同工作的原理是，通过jenkins的docker插件来完成。 首先docker插件负责docker daemon的管理，也就是配置jenkins去连接docker daemon。然后启动一个docker image来完成job。其中，需要注意的是后续我们的job都是完全放在这个启动起来的container里面完成的。因此这个image需要我们自己去根据工程的需要来定义。还有就是master会去连接到这个启动起来的container，是通过ssh来连接的。
配置docker plugin docker 插件提供了可以通过在slave的节点上docker环境，来执行docker的相关操作。
docker环境配置 这里主要就是配置下docker daemon，首先使我们必须安装完成docker。 对docker daemon的配置流程如下：
 /etc/sysconfig/docker配置文件配置OPTIONS=&lsquo;-H unix:///var/run/docker.sock -H tcp://0.0.0.0:2375&rsquo; 。这个配置使能了本地socket以及远端tcp的连接。 如果有防火墙，配置防火墙打开2375端口（no auth）以及2376端口（auth） 重启防火墙以及我们的docker.service  注意-H给出的端口作为http端口，端口+1作为https，这是docker daemon的默认行为
docker jenkins image 配置好docker daemon以后，还需要在docker slave上跑一个docker image给jenkins来使用。后面去配置jenkins的docker cloud的时候就是配置这个image。
这个image的创建可以手动创建或者直接使用docker hub上的evarga/jenkins-slave
evarga/jenkins-slave的使用 这个镜像直接拉取：
docker pull evarga/jenkins-slave  镜像默认的用户名和密码是jenkins:jenkins
手动创建jenkins-slave jenkins的配置 jenkins的配置主要包括增加一个docker cloud。
docker cloud的配置， 流程描述如下：
 Manage Jenkins-&gt;configuration-&gt;Add New cloud 配置name以及 Docker URL（eg.
                  <a href="https://blog.ucatch.me/post/ci-cd/jenkins-docker-slave/" class="post-read-more">[Read More]</a>
                
              </div>

              
                <span class="post-meta">
                
                  #<a href="https://blog.ucatch.me/tags/jenkins">jenkins</a>&nbsp;
                
                  #<a href="https://blog.ucatch.me/tags/docker">docker</a>&nbsp;
                
                </span>
              
            </article>
          
            <article class="post-preview">
              <a href="https://blog.ucatch.me/post/ci-cd/jenkins-install/">
                <h2 class="post-title">jenkins的安装说明</h2>
                
              </a>

              <span class="post-meta">
  Posted on July 31, 2017
  
</span>


              <div class="post-entry">
                
                  

<h1 id="jenkins的安装">jenkins的安装</h1>

<p><strong>系统：CentOS7 + docker 1.6</strong>
<strong>Jenkins: ver. 1.609.1</strong></p>

<h2 id="安装">安装</h2>

<p>对于jenkins的安装，直接使用dockerhub上的镜像进行构建。直接docker pull jenkins就可以了。</p>

<h2 id="jenkins的插件安装">jenkins的插件安装</h2>

<p>对于插件安装，有两种方式，通过页面安装或者直接安装在docker image里面。
一般来说，我们采用后一种方式来安装。避免插件的反复安装。</p>

<p>重新编译一个docker image，Dockerfile片段：</p>

<pre><code class="language-text">FROM jenkins
COPY plugins.txt /usr/share/jenkins/plugins.txt
RUN /usr/local/bin/plugins.sh /usr/share/jenkins/plugins.txt
</code></pre>

<p>复制了一个plugins.txt文件，这个文件的内容如下：</p>

<pre><code class="language-text">git:latest
git-client:latest
gitlab-hook:latest
</code></pre>

<p>上面的这些就是我们要安装的插件。</p>

<p><strong>注意：在安装插件的时候，保证插件依赖的插件也被正确的安装，否则这些插件是不可用的</strong></p>

<p><a href="https://wiki.jenkins-ci.org/display/JENKINS/">插件依赖可参考这里</a></p>

                
              </div>

              
                <span class="post-meta">
                
                  #<a href="https://blog.ucatch.me/tags/jenkins">jenkins</a>&nbsp;
                
                </span>
              
            </article>
          
            <article class="post-preview">
              <a href="https://blog.ucatch.me/post/ci-cd/jenkins-security/">
                <h2 class="post-title">jenkins的访问权限以及账户安全</h2>
                
              </a>

              <span class="post-meta">
  Posted on July 31, 2017
  
</span>


              <div class="post-entry">
                
                  jenkins的访问权限以及帐号安全 系统：CentOS7 + docker 1.6 Jenkins: ver. 1.609.1
配置说明 jenkins的安全配置说明在主页面的Configure Global Security的菜单中。它的安全和访问控制主要是两部分：安全域和鉴权策略。
Security Realm配置 在这个配置中，包含了下列的子选项，我们一一进行分析和说明：
Delegate to servlet container 使用servlet container对用户授权。这个是有历史的，从1.163版本就支持了这个功能。它主要用于下面的情节：
 从1.164就开始使用jenkins，并且不想改变当前的状态。 你已经配置了servlet container的鉴权，并且希望jenkins直接使用它  Jenkins&rsquo;s own user database 使用jenkins自己的用户列表来授权。这个适合小型范围的配置当你并没有任何的用户数据库的时候，当有大量用户的时候，这种策略是不合适的。在这种策略下，如果允许任何人通过注册可以获取到jenkins的权限的话，可以勾上“Allow user to sign up”。这样非用户可以自己通过“sign up”来注册使用jenkins。如果不允许，那么此时想添加新的用户，只能由注已经注册用户通过Manage Jenkins&ndash;&gt; Manage Users进入User Database界面，来创建用户。
LDAP 顾名思义连接到你已经有的ldap服务器来配置
Unix user/group database 如果安装的机器是unix机器，可以使用unix的账户信息来登录到jenkins。
Authorization 配置 鉴权策略的话，也有几个子选项。
Anyone can do anything 任何人都可以在系统上进行任何的操作。不推荐的方式
Legacy mode 这种策略比较极端：admin用户拥有所有权限，其他用户只读。
Logged-in users can do anything 可登录的用户拥有所有操作的权限。
Matrix-based security 默认首次启动后，配置administrator用户，配置系统所有权限，再对其他用户配置相应的权限。可实现admin对所有用户的权限的集中管制
Project-based Matrix Authorization Strategy 这个是针对每个工程配置权限，上节描述的是针对整个系统的。此项针对每个用户在每个具体的project上的权限进行配置。
                  <a href="https://blog.ucatch.me/post/ci-cd/jenkins-security/" class="post-read-more">[Read More]</a>
                
              </div>

              
                <span class="post-meta">
                
                  #<a href="https://blog.ucatch.me/tags/jenkins">jenkins</a>&nbsp;
                
                </span>
              
            </article>
          
        </div>

        
          <ul class="pager main-pager">
            
            
              <li class="next">
                <a href="https://blog.ucatch.me/page/2">Older Posts &rarr;</a>
              </li>
            
          </ul>
        
      </div>
    </div>
  </div>

    <footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <ul class="list-inline text-center footer-links">
          
              <li>
                <a href="mailto:seanchann@foxmail.com" title="Email me">
                  <span class="fa-stack fa-lg">
                    <i class="fa fa-circle fa-stack-2x"></i>
                    <i class="fa fa-envelope fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://github.com/seanchann" title="GitHub">
                  <span class="fa-stack fa-lg">
                    <i class="fa fa-circle fa-stack-2x"></i>
                    <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
          
          <li>
            <a href="https://blog.ucatch.me/index.xml" title="RSS">
              <span class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-rss fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          
        </ul>
        <p class="credits copyright text-muted">
          Some Person
          &nbsp;&bull;&nbsp;
          2017

          
            &nbsp;&bull;&nbsp;
            <a href="https://blog.ucatch.me/">seanchann</a>
          
        </p>
        
        <p class="credits theme-by text-muted">
          <a href="http://gohugo.io">Hugo v0.26-DEV</a> powered &nbsp;&bull;&nbsp; Theme by <a href="http://deanattali.com/beautiful-jekyll/">Beautiful Jekyll</a> adapted to <a href="https://github.com/halogenica/beautifulhugo">Beautiful Hugo</a>
          
        </p>
      </div>
    </div>
  </div>
</footer>

<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/katex.min.js" integrity="sha384-/y1Nn9+QQAipbNQWU65krzJralCnuOasHncUFXGkdwntGeSvQicrYkiUBwsgUqc1" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/contrib/auto-render.min.js" integrity="sha384-dq1/gEHSxPZQ7DdrM82ID4YVol9BYyU7GbWlIwnwyPzotpoc57wDw/guX8EaYGPx" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<script src="https://blog.ucatch.me/js/main.js"></script>
<script src="https://blog.ucatch.me/js/highlight.min.js"></script>
<script> hljs.initHighlightingOnLoad(); </script>
<script> renderMathInElement(document.body); </script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.1/photoswipe.min.js" integrity="sha256-UplRCs9v4KXVJvVY+p+RSo5Q4ilAUXh7kpjyIP5odyc=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.1/photoswipe-ui-default.min.js" integrity="sha256-PWHOlUzc96pMc8ThwRIXPn8yH4NOLu42RQ0b9SpnpFk=" crossorigin="anonymous"></script>
<script src="https://blog.ucatch.me/js/load-photoswipe.js"></script>



  </body>
</html>

